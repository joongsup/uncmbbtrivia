<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Jay&#39;s Notes</title>
    <link>/</link>
    <description>Recent content on Jay&#39;s Notes</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 06 Feb 2018 00:00:00 +0000</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>RSS feed and rbind github repo</title>
      <link>/post/2018/02/06/rss-feed/</link>
      <pubDate>Tue, 06 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/02/06/rss-feed/</guid>
      <description>
        &lt;p&gt;&lt;a href=&#34;https://twitter.com/ma_salmon/status/957902480549040128&#34;&gt;Maëlle Salmon&lt;/a&gt; reminded me to submit posts/blog RSS feed to R &lt;a href=&#34;https://rweekly.org/submit&#34;&gt;weekly&lt;/a&gt; on my &lt;a href=&#34;https://twitter.com/uncmbbtrivia/status/957892046676811777&#34;&gt;tweet&lt;/a&gt;, and I set out to do just that. I didn’t have much understanding as to how to though, and googling things like “how to generate rss feed in xmin blogdown” didn’t really turn up anything useful for new bloggers like me. Maybe it’s a quite straighforward knowledge that my full blog url is not a valid RSS feed address, but I got to know that only after checking my blog url from the R weekly submit &lt;a href=&#34;https://validator.w3.org/feed/&#34;&gt;page&lt;/a&gt;. And besides, I’m pretty sure for most blogs that I wanted to add to my Feedly, entering their url address worked just fine, and it was a bit of a head scratcher.&lt;/p&gt;
&lt;p&gt;A bit of digression before getting into how I was able to turn on RSS feed. Since my main excitement with blogdown was being able to focus on content generation (mostly about data science and UNC basketball) and not having to worry about the site set-up, deployment, etc., I naturally followed Yihui’s recommneded &lt;a href=&#34;https://bookdown.org/yihui/blogdown/workflow.html&#34;&gt;workflow&lt;/a&gt; of using netlify for the site deployment. I was very pleased with how easy it was to start my own blog and kept going for quite some time. Then I quickly ran into a little identity &lt;a href=&#34;https://joongsup.rbind.io/post/2018/01/29/blog-at-rbind-io/&#34;&gt;crisis&lt;/a&gt; (as my netlify subdomain was “uncmbbtrivia”&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;), and I decided to get a subdomain under rbind.io, which I had known about before. With the domain change, I’d change my subdomain name too, I figured.&lt;/p&gt;
&lt;p&gt;So I set out to switch over to rbind.io and ran into rbind support’s about &lt;a href=&#34;https://support.rbind.io/about/&#34;&gt;page&lt;/a&gt;. I opened a &lt;a href=&#34;https://github.com/rbind/support/issues/145&#34;&gt;ticket&lt;/a&gt;, and &lt;span class=&#34;citation&#34;&gt;[Nan Xiao, @road2stat]&lt;/span&gt;(&lt;a href=&#34;https://github.com/road2stat&#34; class=&#34;uri&#34;&gt;https://github.com/road2stat&lt;/a&gt;) quickly helped me with .rbind.io subdomain creation, and now my blog’s at rbind just like that&lt;a href=&#34;#fn2&#34; class=&#34;footnoteRef&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;. Without a doubt, it was a very pleasant experience, and I was all set.&lt;/p&gt;
&lt;p&gt;Except that my source files were still residing in my person github account, when I had expected that the source repo would have somehow automatically transferred to rbind github account when my rbind.io subdomain was created. At least that’s how I read the how to join rbind &lt;a href=&#34;https://support.rbind.io/about/&#34;&gt;section&lt;/a&gt; in the about page, but it wasn’t the case, and I ended up transferring my blog source repo to rbind organization repo on github, literally with a click of a button&lt;a href=&#34;#fn3&#34; class=&#34;footnoteRef&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;. So I joined the other 150+ people (or 60+ repos) that are hosted under rbind github account.&lt;/p&gt;
&lt;p&gt;Back to the RSS feed story, so I needed some quick help on how to generate an RSS feed, and I could’ve just fired up a question on twitterverse and/or opened a ticket on rbind github, but I decided to make use of the rbind repo. These are the people who more or less have the same interest as me, especially in using R for data science and also likely blogdown for blogging, so I should be able to find some clues as to how to generate an RSS feed, I figured.&lt;/p&gt;
&lt;p&gt;And I did find what I was missing there! I noticed that I didn’t have /layouts/rss.xml file&lt;a href=&#34;#fn4&#34; class=&#34;footnoteRef&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;. Once I manually added the file and inserted a couple of lines in my /layouts/partials/header.html, I was all set, and my RSS feed was generated successfully for now&lt;a href=&#34;#fn5&#34; class=&#34;footnoteRef&#34; id=&#34;fnref5&#34;&gt;&lt;sup&gt;5&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;So there, I was happy to have my blog subdomain in .rbind.io&lt;a href=&#34;#fn6&#34; class=&#34;footnoteRef&#34; id=&#34;fnref6&#34;&gt;&lt;sup&gt;6&lt;/sup&gt;&lt;/a&gt;, and I’m also happy to have my source repo under rbind github account, which can “make it easier to discover websites and get inspirations from other people’s websites”, and “…may study its source files, or even ask the author via Github issues.”&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;I understand I could’ve changed the netlify subdomain, but opted to rbind anyway.&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;The netlify address still works, but it forwards to rbind. Notes on forwarding &lt;a href=&#34;https://yihui.name/en/2017/11/301-redirect/&#34;&gt;here&lt;/a&gt;, thanks to &lt;span class=&#34;citation&#34;&gt;@yihui&lt;/span&gt;.&lt;a href=&#34;#fnref2&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;And I think I need to change my local git setting too, at least that’s the message I get whenever I commit/push changes, although it seems like it’s not critical at the moment.&lt;a href=&#34;#fnref3&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;Maybe it was not needed, and I could’ve turned on RSS feed somehow differently?&lt;a href=&#34;#fnref4&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn5&#34;&gt;&lt;p&gt;When I validated the RSS link, it gave me some recommendations, and I haven’t spent time to address them yet, but they don’t seem to be errors.&lt;a href=&#34;#fnref5&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn6&#34;&gt;&lt;p&gt;Besides the new name, my other attraction to rbind.io is that rbind.io address automatically tells the world that the blogger cares for R.&lt;a href=&#34;#fnref6&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;

        
      </description>
    </item>
    
    <item>
      <title>Run system commands or shell scripts from an interactive R session</title>
      <link>/post/2018/02/05/run-system-commands-or-shell-sripts-from-an-interactive-r-session/</link>
      <pubDate>Mon, 05 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/02/05/run-system-commands-or-shell-sripts-from-an-interactive-r-session/</guid>
      <description>
        &lt;p&gt;When you are working in an interactive R shell and need to run some system commands, you can use a base R function &lt;a href=&#34;https://stat.ethz.ch/R-manual/R-devel/library/base/html/system.html&#34;&gt;&lt;code&gt;system&lt;/code&gt;&lt;/a&gt;&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# toy example
system(&amp;quot;ls&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;system&lt;/code&gt; funtion can also be used to run custom shell scripts, like so,&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;system(&amp;quot;custom_script.sh arg1 arg2&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where &lt;code&gt;custom_script.sh&lt;/code&gt; is a shell script that does some custom operations with &lt;code&gt;arg1&lt;/code&gt; and &lt;code&gt;arg2&lt;/code&gt;. For example, let’s say I want to extract all the lines in a source file that contains the word “NOTE”. Below&lt;a href=&#34;#fn2&#34; class=&#34;footnoteRef&#34; id=&#34;fnref2&#34;&gt;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt; is one such shell script, &lt;code&gt;show_notes.sh&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;sh&#34;&gt;&lt;code&gt;#!/bin/sh

if [ -z &amp;quot;$1&amp;quot; ]; then
        echo &amp;quot;Usage: ./show_notes.sh file_with_notes marker&amp;quot;
else

rm $1.$2 2&amp;gt; /dev/null

echo &amp;quot;#-----------------------------------------------------&amp;quot; &amp;gt;&amp;gt; $1.$2
echo &amp;quot;# $2 from&amp;quot; $1 &amp;gt;&amp;gt; $1.$2
echo &amp;quot;#-----------------------------------------------------&amp;quot; &amp;gt;&amp;gt; $1.$2

less $1 | grep $2 &amp;gt;&amp;gt; $1.$2

echo &amp;quot;$2 are saved to file: $1.$2&amp;quot;
fi&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The shell script extracts all the lines from the “file_with_notes” (&lt;code&gt;arg1&lt;/code&gt;) that contains a word “marker” (&lt;code&gt;arg2&lt;/code&gt;) and save it to a new file (with a specific file name). Then, from within an open interactive R shell, I can call the shell script like so:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;system(&amp;quot;show_notes.sh explore.R NOTE&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will extracts all lines with “NOTE” in them from &lt;code&gt;explore.R&lt;/code&gt; file and save it to &lt;code&gt;explore.R.NOTE&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;There are several comments to be made about this approach:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Unless &lt;code&gt;show_notes.sh&lt;/code&gt; file is already executable from anywhere (i.e., the directory that contains the show_notes.sh file is in the PATH), you might have to provide the absolute paths for both files. For example, above snippet won’t work, unless the two files (&lt;code&gt;show_notes.sh&lt;/code&gt; and &lt;code&gt;explore.R&lt;/code&gt;) are in the same directory.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In order for this shell script to be useful, the source file (&lt;code&gt;explore.R&lt;/code&gt;) is assumed to have many lines that contain the marker “NOTE”. The user must have put in conscious efforts to leave “NOTE” marker in &lt;code&gt;explore.R&lt;/code&gt; file.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For the most part, once above two limitations are understood and resolved, the shell script can be useful.&lt;/p&gt;
&lt;p&gt;Going one step further, if you find yourself using this particular shell script quite often in your data analysis workflow, you can include this shell script as well as the corresponding R wrapper function that calls the shell script (much like &lt;code&gt;system(&amp;quot;ls&amp;quot;)&lt;/code&gt; above) in an R package&lt;a href=&#34;#fn3&#34; class=&#34;footnoteRef&#34; id=&#34;fnref3&#34;&gt;&lt;sup&gt;3&lt;/sup&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The two main files (custom shell script and R wrapper function) need to be in a specific directory, respectively.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;The custom shell script needs to be in a subdirectory under &lt;code&gt;/inst&lt;/code&gt; &lt;a href=&#34;http://r-pkgs.had.co.nz/inst.html&#34;&gt;directory&lt;/a&gt; under the package’s root. Let’s say for this example, the &lt;code&gt;show_notes.sh&lt;/code&gt; file is in &lt;code&gt;/inst/sh&lt;/code&gt; directory.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The R wrapper function needs to be in the usual &lt;code&gt;/R&lt;/code&gt; directory under the package’s root directory. For this example, the corresponding R wrapper function is called &lt;code&gt;show_notes()&lt;/code&gt; and looks like so:&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;show_notes &amp;lt;- function(src, marker = &amp;quot;NOTE&amp;quot;){

  main_sh &amp;lt;- system.file(&amp;quot;sh&amp;quot;, &amp;quot;show_notes.sh&amp;quot;, package = &amp;quot;my_awesome_R_pkg&amp;quot;)
  cmd &amp;lt;- paste0(main_sh, &amp;quot; &amp;quot;, src, &amp;quot; &amp;quot;, marker)
  print(cmd)
  system(cmd)

}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that R’s base &lt;code&gt;system.file()&lt;/code&gt; function is used here to search for the &lt;code&gt;show_notes.sh&lt;/code&gt; file in a subdirectory &lt;code&gt;/sh&lt;/code&gt; under the root directory of installed package, &lt;code&gt;my_awesome_R_pkg&lt;/code&gt;.&lt;a href=&#34;#fn4&#34; class=&#34;footnoteRef&#34; id=&#34;fnref4&#34;&gt;&lt;sup&gt;4&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Once &lt;code&gt;my_awesome_R_pkg&lt;/code&gt; is installed and loaded, you can call this R wrapper function from your open interactive R shell, like so (assuming &lt;code&gt;explore.R&lt;/code&gt; file is in the current working directory of the open interactive R session):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;show_notes(&amp;quot;explore.R&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function call will extract all the lines from &lt;code&gt;explore.R&lt;/code&gt; file that contains “NOTE” in them and save it to &lt;code&gt;explore.R.NOTE&lt;/code&gt; in the same directory as the &lt;code&gt;explore.R&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This approach can be useful, for example, if you want to keep track of intermediate narratives of your data analysis, which is done interactively in an R session with codes from a source file.&lt;/p&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Both a newer version function &lt;a href=&#34;https://stat.ethz.ch/R-manual/R-devel/library/base/html/system2.html&#34;&gt;&lt;code&gt;system2&lt;/code&gt;&lt;/a&gt; and a relatively new file system operations opackage &lt;a href=&#34;http://fs.r-lib.org&#34;&gt;fs&lt;/a&gt; seem great alternatives, but I haven’t tried them yet.&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn2&#34;&gt;&lt;p&gt;Note that in addition to familiar R code chunks, you can also execute code chunks in other lanauges by calling the target language engine in place of r. For options, see &lt;a href=&#34;http://rmarkdown.rstudio.com/authoring_knitr_engines.html&#34;&gt;here&lt;/a&gt;.&lt;a href=&#34;#fnref2&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn3&#34;&gt;&lt;p&gt;Check out Jim Hester’s 2018 rstudio conference presentation &lt;a href=&#34;https://github.com/jimhester/presentations/tree/master/2018_02_03-You-can-make-a-package-in-20-minutes&#34;&gt;here&lt;/a&gt; for motivations and minimal package file structure.&lt;a href=&#34;#fnref3&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li id=&#34;fn4&#34;&gt;&lt;p&gt;Note that source files in &lt;code&gt;/inst/sh&lt;/code&gt; are copied to &lt;code&gt;/sh&lt;/code&gt; when R package is installed.&lt;a href=&#34;#fnref4&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;

        
      </description>
    </item>
    
    <item>
      <title>New Hugo theme</title>
      <link>/post/2018/02/03/new-hugo-theme/</link>
      <pubDate>Sat, 03 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/02/03/new-hugo-theme/</guid>
      <description>
        &lt;p&gt;Last time, I wrote about a &lt;a href=&#34;https://joongsup.rbind.io/post/2018/02/01/quiz-from-work/&#34;&gt;quiz&lt;/a&gt; from work, including the code solution. Unfortunately, I didn’t really like how the code block was printed in the &lt;a href=&#34;https://themes.gohugo.io/minimal/&#34;&gt;minimal&lt;/a&gt; theme. I’m pretty sure there’s a quick and/or easy fix, but since I’m starting this blogging thing, I decided to try some other themes while at it.&lt;/p&gt;
&lt;p&gt;It took some googling/reading/tweaking, but I ended up with Yihui’s &lt;a href=&#34;https://github.com/yihui/hugo-xmin&#34;&gt;XMin&lt;/a&gt; theme, and overall I’m satisfied with what I ended up with at the moment. It could’ve been helpful to record each and every step I took and write a blog post about it, but unfortunately, I didn’t record each and every step that I ended up taking. Nonetheless, I’ll try to summarize what I went through later for my own record, if anything.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Quiz from work</title>
      <link>/post/2018/02/01/quiz-from-work/</link>
      <pubDate>Thu, 01 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/02/01/quiz-from-work/</guid>
      <description>
        &lt;blockquote&gt;
&lt;p&gt;There are 25 black balls and 25 white balls in a jar. We take two balls at random from the jar, and the one of the three: (1) if two black balls are drawn, put them back in to the jar; (2) if two white balls are drawn, throw them away; (3) if mixed, put a white ball back in, and throw away the black ball. We win this game when a white ball is the only ball remaining in the jar. Can we win the game, and if yes, what’s the probability that we win the game?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Since this quiz was asked in a “coding challenge” session at work, I went ahead and wrote the following to see what happens, even though I suspected this could be solved with pen/paper, especially because the quiz was introduced as a question that had been asked at a job interview.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;draw_balls &amp;lt;- function(balls){ # balls = list(begin_w, begin_b)
  w &amp;lt;- balls[[1]]
  b &amp;lt;- balls[[2]]
  #print(paste0(&amp;quot;Beginning balls (w, b): &amp;quot;, w, &amp;quot;, &amp;quot;, b))
  
  # note I&amp;#39;m assuming two balls are drawn one at a time, not together
  # other drawing rules are possible
  # drawing rule for first ball
  if (runif(1) &amp;lt; w/(w + b)) {
    wtmp1 &amp;lt;- 1 # draw white
    btmp1 &amp;lt;- 0
  } else {
    wtmp1 &amp;lt;- 0
    btmp1 &amp;lt;- 1 # draw black
  }
      
  # drawing rule for second ball
  if (runif(1) &amp;lt; (w - wtmp1)/(w - wtmp1 + b - btmp1)){
    wtmp2 &amp;lt;- 1 # draw white
    btmp2 &amp;lt;- 0
  } else {
    wtmp2 &amp;lt;- 0
    btmp2 &amp;lt;- 1 # draw black
  } 
      
  # post-draw actions
 
  if (wtmp1 == 1 &amp;amp; wtmp2 == 1) {
    #print(&amp;quot;Balls drawn: 2 W&amp;quot;)
    w &amp;lt;- w - (wtmp1 + wtmp2)
    b &amp;lt;- b
  } else if (btmp1 == 1 &amp;amp; btmp2 == 1){
    #print(&amp;quot;Balls drawn: 2 B&amp;quot;)
    w &amp;lt;- w
    b &amp;lt;- b
  } else { # if mixed
    #print(&amp;quot;Balls drawn: mixed&amp;quot;)
    w &amp;lt;- w
    b &amp;lt;- b - 1
  }

  #print(paste0(&amp;quot;Ending balls (w, b): &amp;quot;, w, &amp;quot;, &amp;quot;, b))
  balls &amp;lt;- list(ending_w = w, ending_b = b)
}

# stopping rule1: if whilte ball = 0, black balls &amp;gt;= 1; then white loses
# stopping rule2: if black ball = 0, white ball odd numbers are left; then white wins
# stopping rule3: if black ball = 0, white ball even numbers are left; then white loses

iterate_draw_balls &amp;lt;- function(count = 0, begin_w, begin_b){

  while(begin_w * begin_b &amp;gt; 0){
    #print(&amp;quot;==============================&amp;quot;)
    count &amp;lt;- count + 1
    #print(paste0(&amp;quot;Count: &amp;quot;, count))
    
    a &amp;lt;- draw_balls(list(begin_w, begin_b))
    begin_w &amp;lt;- a$ending_w
    begin_b &amp;lt;- a$ending_b
  }

  
  if (begin_w == 0){ # stopping rule 1
    win &amp;lt;- 0
    #print(&amp;quot;The last ball was a black one&amp;quot;)
    win
  } else if (begin_w %% 2 == 1) { # stopping rule 2
    win &amp;lt;- 1
    #print(&amp;quot;The last ball was a white one.&amp;quot;)
    win
  } else if (begin_w %% 2 == 0) { # stopping rule 3
    win &amp;lt;- 0
    #print(&amp;quot;There is no ball left.&amp;quot;)
    win
  } else {
    #print(&amp;quot;Shouldn&amp;#39;t see this!&amp;quot;)
    win &amp;lt;- -9999999999
  }
}

#--------------------------------
# run the monte carlo simulation
#--------------------------------

set.seed(1234)
N &amp;lt;- 100
begin_w &amp;lt;- 25
begin_b &amp;lt;- 25
results &amp;lt;- vector(&amp;quot;list&amp;quot;, length = N)
for (sim in 1:N){
  #print(paste0(&amp;quot;Simulation iteration: &amp;quot;, sim))
  results[[sim]] &amp;lt;- iterate_draw_balls(count = 0, begin_w = begin_w, begin_b = begin_b)
  #print(paste0(&amp;quot;Simulation result: &amp;quot;, results[[sim]]))
}
sum(unlist(results))/N&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For different values of N, the results were the same, depending on whether the number of white balls was odd or even. So the immediate answer to the quiz seems to be that we always win, since we started the game with 25 white balls.&lt;/p&gt;
&lt;p&gt;Seeing such pattern, I thought about state space of white and black balls in terms of them being odd or even, and after tinkering with different transition cases, it confirmed my simulation experiment.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>3 game losing streak</title>
      <link>/post/2018/01/30/3-game-losing-streak/</link>
      <pubDate>Tue, 30 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/30/3-game-losing-streak/</guid>
      <description>
        &lt;p&gt;Here we go again. 3 Ls in a row. When was the last time we had this kind of losing skid?&lt;/p&gt;
&lt;p&gt;So the last time there was a 3-game losing streak was back in 2014, and to my surprise,&lt;/p&gt;
&lt;p&gt;I got curious as to what the worst losing streak was since 1950 season. To do that I’m looking at the number of seasons with losing streaks up to certain nuber.&lt;/p&gt;
&lt;p&gt;So as seen earlier, one in every four seasons, we’ve seen at least one occasion of 3-game losing streaks. What gets me is that there’s been seasons in which we had 4+ game losing streaks! Let’s see what those seasons were and what were those games for those seasons with at least one 6-game losing streaks.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Blog at rbind.io</title>
      <link>/post/2018/01/29/blog-at-rbind-io/</link>
      <pubDate>Mon, 29 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/29/blog-at-rbind-io/</guid>
      <description>
        &lt;p&gt;This weekend, I made a small but meaningful change to the blog that I started late last year. Initially, my blog was named UNCMBBTRIVIA to emphasize to the readers that this blog is about my beloved UNC Men’s Basketball team’s trivia. But I always wanted to have a blog where I write not only about UNC MBB trivia, but more importantly about data analysis and R.&lt;/p&gt;
&lt;p&gt;As I thought about it more, it became clear that I’d better drop the UNCMBBTrivia-only identity of the blog to start writing more about data analysis and R, and ever since then I’ve been thinking about how and when to make the change. Searching for ideas, this Friday I was reading this and that, and bam! I ran into Yihui’s online blogdown book, in which he introduced *.rbind.io subdomain option for deployment (via netlify, which was my original choice).&lt;/p&gt;
&lt;p&gt;Everything about *.rbind.io option was just right for what I wanted: moving away from UNCMBBTrivia-only identity, showing a taste of data-powered contents of the blog, and being more active in the R community (who among useRs are not excited about interacting with &lt;span class=&#34;citation&#34;&gt;@yihui&lt;/span&gt;, &lt;span class=&#34;citation&#34;&gt;@hadley&lt;/span&gt;, &lt;span class=&#34;citation&#34;&gt;@drob&lt;/span&gt;, and many more amazing folks in R community?)&lt;/p&gt;
&lt;p&gt;So this weekend, I jumpted the gun and created an issue on rbind support github, which is what one needs to do to request for an rbind.io subdomain. To my pleasant surprise, &lt;span class=&#34;citation&#34;&gt;@road2stat&lt;/span&gt; responded to my request quickly, and less than 24 hours later, the new blog address is joongsup.rbind.io :) (&lt;del&gt;I wonder if there’s a way to automatically redirect the visit to the original netlify address to the new rbind.io one?&lt;/del&gt; And there’s a way to do it. See &lt;a href=&#34;https://yihui.name/en/2017/11/301-redirect/&#34;&gt;here&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;I couldn’t be happier with the whole experience, and am looking forward to sharing my journey in data analysis and R in addition to UNCMBBTrivia here.&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>One year after rstudio::conf 2017</title>
      <link>/post/2018/01/29/one-year-after-rstudio-conf-2017/</link>
      <pubDate>Mon, 29 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/29/one-year-after-rstudio-conf-2017/</guid>
      <description>
        &lt;p&gt;It was merely a name &lt;a href=&#34;https://joongsup.rbind.io/post/blog-at-rbind-io/&#34;&gt;change&lt;/a&gt;, but with the new blog address at rbind.io, I’m excited about the fact that I am a blogger who uses his name in his blog address, because I’ve always considered it to be one of the coolest things you can do online :) And it got me thinking, where did it all start from? After many failed attempts to start and maintain my own blog, how is it that this time, it seems it’ll just work?&lt;/p&gt;
&lt;p&gt;A quick answer was @&lt;a href=&#34;https://github.com/yihui&#34;&gt;yihui&lt;/a&gt; and &lt;a href=&#34;https://github.com/rstudio/blogdown&#34;&gt;blogdown&lt;/a&gt; package, along with amazing R &lt;a href=&#34;https://github.com/rbind/support&#34;&gt;community/support&lt;/a&gt;, but besides blogging, I knew I did one or two other cool things last year, and quickly I realized that it all started with the rstudio conference I attended in 2017. It’s probably not a coincidence that I came to this realization right before the week of rstudio conference 2018, because my twitter feed is all mentions related to the conference. With that I got to think about other cool things I ended up doing last year, particularly since attending the rstudio conference.&lt;/p&gt;
&lt;p&gt;So here is a quick list of other cool things I’ve done with a brief comments under each, while at and since attending the rstudio conference in January, 2017. I tried to keep them in a chronological order.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Hadley’s autograph&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I took Hadley’s Master R Developer workshop, since having worked with R for a couple of years now, I wanted to write an R package at some point. It was simply a great workshop, and yes I asked for his autograph on the first page of his &lt;a href=&#34;http://adv-r.had.co.nz/&#34;&gt;Advanced R&lt;/a&gt; book, which he did :)&lt;/p&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Started using github&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I never used github before. I created an account on github some time ago, but never actually used it. After taking the training and listening to the talks at the conference, I decided not only to start using it, but to use it frequently. Version control was never a part of my education/work, and I think it’s great seeing many folks having pushed/pusing for the inclusion of this topic in data science/statistics curriculum these days. This is just one of those things that I wish I had learned while at school.&lt;/p&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Wrote my first R (data) &lt;a href=&#34;https://cran.r-project.org/web/packages/uncmbb/index.html&#34;&gt;package&lt;/a&gt;, now available on CRAN&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;One of the coolest things I’ve always considered as an avid R user is having your own R package available on CRAN. Hadley’s Master R Developer workshop was the single biggest reason I wanted to attend the conference in 2017, and not so long after the conference, I had my first R package up on CRAN. I’m planning to write about starting your data analysis journey with creating an R data packge of your own.&lt;/p&gt;
&lt;ol start=&#34;4&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Started preaching R package, tidyverse, and reproducible research (RR) at work&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I’ve been the R guy at work even before the rstudio conference, but after attending the Hadley’s training and embracing the idea of developing R packages for projects especially for the purpose of doing reproducible research (casually, I call it reproducible work instead) over other work artifacts and habits, I’m that R guy even more who’s introducing tidyverse approach and sharing tips for doing reproducible work. Again, I’m hoping to write about data analysis workflow that I came to settle on that helps with doing RR at work.&lt;/p&gt;
&lt;ol start=&#34;5&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Started having a second thought about R packages and tinkered with .Rprofile&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;As I tried to incorporate R packages for projects at work, soon I ran into several roadblocks mainly due to inherent limitations of corporate world. I’m planning to write about this some time later too, but the main issue was that there are times that I can’t use RStudio IDE at work and instead have to work with other tools, mainly in R command line in company servers (which I’m happy with, but not at the same level as using RStudio IDE). Since I wasn’t making a good progress in incorporating packages for projects, I started using .Rprofile files to put frequently used functions in one place, but surely I ended up running into the challenges of easily sharing my work with team members.&lt;/p&gt;
&lt;ol start=&#34;6&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Turned around once again and made a second R package, primarily for use at work (local).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Not long after I shared my frustration with the difficulty of R package development under corporate environment and my use of .Rprofile file with my team members, I found a way to solve the particular problems I was having. I ended up ditching the use of .Rprofile file completely, and now when I run into such challenges (that are inherent to large company environments), I try to find a solution within existing limitations somehow. Definitely, many times working in a corporate environment can be inefficient and slow, but it’s still no reason to use .Rprofile for frequently used functions.&lt;/p&gt;
&lt;ol start=&#34;7&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Started a blog, now using rbind.io subdomain.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At the conference, I didn’t really pay attention to @&lt;a href=&#34;https://github.com/yihui&#34;&gt;yihui&lt;/a&gt;’s talks on blogdown. As my first R package became available on CRAN, however, I wanted to share a couple of quick data analyses that can be done with the data, and quickly I ran into a couple of how-to’s using blogdown. There’s been many failed attempts to create and maintain my own blog in the past, but I was able to start blogging and keep doing it still, thanks to @&lt;a href=&#34;https://github.com/yihui&#34;&gt;yihui&lt;/a&gt; and other great folks in R community.&lt;/p&gt;
&lt;p&gt;Unfortunately, I’m not going to the rstudio conference this year (training/conference schedule just didn’t work out), and boy do I want to be there this week. For those of you lucky attendees, I hope you make the best out of the conference and enjoy everything you get to learn from amazing people and do your own cool/amazing things after the conference.&lt;/p&gt;
&lt;p&gt;I know you will :)&lt;/p&gt;

        
      </description>
    </item>
    
    <item>
      <title>Data Analysis Workflow at Work</title>
      <link>/post/2018/01/19/data-analysis-workflow/</link>
      <pubDate>Fri, 19 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/19/data-analysis-workflow/</guid>
      <description>
        &lt;div id=&#34;introduction&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Introduction&lt;/h1&gt;
&lt;p&gt;Data analysis workflow. This is one of my favorite topics in data science, because it deals with everything from data ingestion to report/insight documentation in a project. One might say applying tidyverse approach/techniques is a micro level data science skill, whereas following a specific workflow, which can vary from one person to another, is a macro level one. Tidyverse can definitely be a part of your workflow, and there are many other components of a workflow that I touch on later, but why should we care about data analysis workflow?&lt;/p&gt;
&lt;p&gt;There are several benefits of establishing a good and routine data analysis workflow that one follows on a daily basis. To me, the most helpful benefits have been:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Having a good data analysis workflow is beneficial and needed to do reproducible research/work (Reproducible Research, as they say). RR could mean one thing to one and quite another to others, but to me, doing reproducible work means specifically doing my work in a fashion that allows me to pick up from last touched point in that particular work after some break. For example, after spending 2-3 days on project A, I might go off to do something else for the next 2-3 days, and when I come back to project A, I want to know exactly what’s been done and what I need to do. There are many components of data analysis workflow that can be helpful for one to do RR, and I try to outline them below. But before going into each component of a workflow, there’s one more benefit at least as I see it.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A routine workflow helps us avoid mental fatigue (I can be wrong, but this may be from one of the books by Hadley). To me, this means knowing what, where, why, and how to do things right off the bat when starting a new project. Slowly but surely, I’m settling down to a specific approach that I’ll touch upon later, but to get to this point, I tried several different alternatives, and many times ended up failing, for example, to keep track of how to do things (e.g., refresh data with new source data) all over again when needed. Typical challenges have been, but are not limited to, (1) keeping track of data generation, preparation, and movement steps, (2) having to switch between several environments to do specific tasks (e.g., visual inspection), and (3) saving analysis summary and results in a place that’s as close to the scripts as possible.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Next, below are my attempts to define data analysis workflow in general by its components.&lt;/p&gt;
&lt;p&gt;— “How”s of workflow&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;How do we produce data: this describes knowing all the activities by which we generate, prepare, read, and write data. (e.g., I want to do data generation and preparation in a specific way.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How do we write codes: this describes knowing specifically how we’re writing codes (e.g., coding style, convention, environment set up)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How do we share work by-products: this describes knowing how we share by-products of our work, such as, data, reports, presentation, etc. (e.g., I could keep my reports in my local computer as opposed to the codes in the lake).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;— “What”s of workflow&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;What do we do with data: this describes knowing what to do with data at hand (e.g., once data is all tidied up, I look for each variable’s frequency distribution first, and this is where tidyverse approach can be helpful).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What do we keep: this describes knowing which by-products are important for future re-use. (e.g., for the initial explore, it’s typical that I end up working with many hive tables downloaded to local, and I keep them in RDS format)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;— “Where”s of workflow&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Where do we do work: this describes knowing the sufficiently good enough data analysis environment (e.g., I could work on my local RStudio, or in RCloud).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where do we save code/data/plots/reports: this describes knowing how to organize your project (e.g., all my by-products reside in a project directory with several other subdirectories).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;— “Why”s of workflow&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Why do we do things in a particular way: this describes knowing the pros and cons of different workflow approaches available (e.g., through trials-and-errors, I realized that doing everything in RCloud (e.g., data prep, visuals, modeling, reports) is not a good idea, and that rather I needed to incorporate RCloud somehow in my workflow for specific tasks only).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div id=&#34;sample-workflow-my-example&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Sample workflow (my example)&lt;/h1&gt;
&lt;p&gt;Before starting to settle down on a particular workflow, I realized that first thing I needed to do was to take a closer look at my day-to-day needs. Not exhaustively, answers to below questions may provide better insights to what we do on a daily basis.&lt;/p&gt;
&lt;p&gt;— What’s been the objectives of projects so far?&lt;/p&gt;
&lt;p&gt;— What kind of data do I work with the most?&lt;/p&gt;
&lt;p&gt;— How are the data generated and prepared before they reach me?&lt;/p&gt;
&lt;p&gt;— What do I do with the data?&lt;/p&gt;
&lt;p&gt;— Do I need interactive environment or batch jobs?&lt;/p&gt;
&lt;p&gt;To me, It turns out that more often than not, majority of my day-to-day tasks especially in the early stage of a project are:&lt;/p&gt;
&lt;p&gt;— Explore data stored in hive tables&lt;/p&gt;
&lt;p&gt;— Visualize data stored in hive tables&lt;/p&gt;
&lt;p&gt;— Summarize/document analysis results&lt;/p&gt;
&lt;p&gt;So it became apparent that the integration of R and hive is rather important in my day-to-day work, and that I still rely much on an interactive environment. Hence, I needed to come up with a better way to use data stored in hive tables in an interactive R session. After several trials-and-errors, I came to the conclusion that the combination of bash shell scripts, remote R shell, and RCloud should do for majority of what I do on a daily basis during this stage. This workflow uses bash shell scripts and remote R shell for quick data exploration and additional data prep, typically followed by RCloud for visualization and summary/documentation. Below, I describe how this workflow typically works.&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;&lt;p&gt;Create a project directory and start up remote R shell from there.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Quick/iterative exploration in remote R shell&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Data generation and preparation&lt;/p&gt;
&lt;p&gt;— Typically involves (intermediate) hive table generations and loading them in R (hive sql, bash, R shell)&lt;/p&gt;
&lt;p&gt;— Needs custom bash scripts and R functions for common tasks&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Descriptive&lt;/p&gt;
&lt;p&gt;— Typical R operations without visuals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Additional data prep needed for further actions&lt;/p&gt;
&lt;p&gt;— Typically for visual inspection in RCloud&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Intermediate data saving&lt;/p&gt;
&lt;p&gt;— Typically in RDS format for visual inspections in RCloud&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Iterate above steps as needed&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Visual inspection and summary in RCloud&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Create a new notebook in RCloud.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Start documenting findings from the exploration step.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Visual inspection&lt;/p&gt;
&lt;p&gt;— Using RDS files saved from quick explore step&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reports and summary&lt;/p&gt;
&lt;p&gt;— Quick notes on findings according to the visuals&lt;/p&gt;
&lt;p&gt;— Also quick notes on further actions, if needed&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is only an example workflow that I’ve come to rely on in early stages of a project, albeit a couple of cons that I don’t share here. Unless your daily tasks are similar to mine, my workflow may not be helpful at all for your needs. And that’s exactly why I’m writing this post, because I believe there is huge benefit of having a concrete workflow embedded in our day to day work, surely beyond what I listed here. I invite you to establish your own workflow, if you have not already, and share the benefits of working in your own workflow. Maybe share your workflow too, so that we can all learn from each other. I end with a couple of links for further readings for those interested.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;links&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Links&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.britishecologicalsociety.org/wp-content/uploads/2017/12/guide-to-reproducible-code.pdf&#34; class=&#34;uri&#34;&gt;http://www.britishecologicalsociety.org/wp-content/uploads/2017/12/guide-to-reproducible-code.pdf&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://www.tidyverse.org/articles/2017/12/workflow-vs-script/&#34; class=&#34;uri&#34;&gt;https://www.tidyverse.org/articles/2017/12/workflow-vs-script/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://r4ds.had.co.nz/explore-intro.html&#34; class=&#34;uri&#34;&gt;http://r4ds.had.co.nz/explore-intro.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://edwinth.github.io/blog/workflow/&#34; class=&#34;uri&#34;&gt;https://edwinth.github.io/blog/workflow/&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;https://cacm.acm.org/blogs/blog-cacm/169199-data-science-workflow-overview-and-challenges/fulltext&#34; class=&#34;uri&#34;&gt;https://cacm.acm.org/blogs/blog-cacm/169199-data-science-workflow-overview-and-challenges/fulltext&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;

        
      </description>
    </item>
    
    <item>
      <title>Running command line scripts from R vs. Running R scripts from command line</title>
      <link>/post/2018/01/08/running-command-line-scripts-from-r-vs-running-r-scripts-from-command-line/</link>
      <pubDate>Mon, 08 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/08/running-command-line-scripts-from-r-vs-running-r-scripts-from-command-line/</guid>
      <description>
        &lt;p&gt;Combining command line tools and R commands&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;R package itself&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;command line utilities&lt;/li&gt;
&lt;li&gt;R wrapper functions&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;How functions in R package are used&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Use the wrapper functions in interactive way (explore.R)&lt;/li&gt;
&lt;li&gt;Use the wrapper functions in another .R script
&lt;ul&gt;
&lt;li&gt;Call the .R script in command line tools&lt;/li&gt;
&lt;li&gt;Make the .R script into R command line utility itself&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What I have so far:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;read_hive_tbl() function&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;What is it? R function&lt;/li&gt;
&lt;li&gt;What does it do? This function calls command line utility to read hive tables in R&lt;/li&gt;
&lt;li&gt;How is it used? It’s included in explore.R script (interactively in an R session)&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;ihx_lookup_batch.sh&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;What is it? a shell script&lt;/li&gt;
&lt;li&gt;What does it do? This script calls R function to do ban lookup&lt;/li&gt;
&lt;li&gt;How is it used? It’s used as a command line utility (i.e., call the script directly from CLI)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Comparison:&lt;/p&gt;
&lt;ol style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Run command line scripts (bash shell script) from within R&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;When working interactively in R shell
&lt;ul&gt;
&lt;li&gt;Example: read_hive_tbl function in R&lt;/li&gt;
&lt;li&gt;at least two types of files required (.sh to do command line thingy and explore.R that calls the .sh)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34; style=&#34;list-style-type: decimal&#34;&gt;
&lt;li&gt;Run R scripts from command line&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Use shell script to run R command
&lt;ul&gt;
&lt;li&gt;at least two types of files required (.sh and .R)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Call R command directly from command line
&lt;ul&gt;
&lt;li&gt;Example: R command line utilities ( &lt;a href=&#34;http://blog.sellorm.com/2017/12/18/learn-to-write-command-line-utilities-in-r/&#34; class=&#34;uri&#34;&gt;http://blog.sellorm.com/2017/12/18/learn-to-write-command-line-utilities-in-r/&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;only .R file type&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

        
      </description>
    </item>
    
    <item>
      <title>Same day match results: UNC and Duke</title>
      <link>/post/2018/01/07/same-day-match-results-unc-and-duke/</link>
      <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>/post/2018/01/07/same-day-match-results-unc-and-duke/</guid>
      <description>
        &lt;p&gt;So both UNC and Duke lost today (Saturday, 2018-01-06). I’d think it’s pretty rare that such event (both teams losing on a same day) happens, and I got curious how rare it is indeed. What are the odds of both teams winning, losing (like today), and splitting?&lt;/p&gt;
&lt;p&gt;I knew both teams have approximately 75% win percentage (since 1949-50 season), so I’m guessing on any given day, the probability of both teams winning should be close to 0.75 x 0.75 = 0.5625, assuming either team’s game result doesn’t really impact the other team’s result. Similarly, both teams losing at the same time should be close to 0.25 x 0.25 = 0.0625. Let’s see if history tells us otherwise.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/2018-01-07-same-day-match-results-unc-and-duke_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;1152&#34; /&gt;&lt;/p&gt;
&lt;p&gt;It seems like the quick calculations seem to match the actual game results. Between 1949-50 and 2016-17 season, there were total 835 days in which both UNC and Duke played, not with each other, and it’s indeed rare that both teams lose on a same day (48 out of 835 days).&lt;/p&gt;
&lt;p&gt;Looking at the split days (W/L and L/W days), it seems UNC gathered more Ws than Duke did when they played on a same day. Let’s see how they played when they played on a same day (again not with each other, but playing some other teams).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/post/2018-01-07-same-day-match-results-unc-and-duke_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;1152&#34; /&gt;&lt;/p&gt;
&lt;p&gt;So indeed, UNC have won slightly more matches than Duke did on days in which they both played, in all match types.&lt;/p&gt;
&lt;p&gt;One thing seems odd, though. Why have UNC played 719 regular matches when Duke played one fewer games in 718 if we’re talking about games played on same days? And reciprocally for CTOURN, Duke (76) played one more game than UNC (75). They should have played the same number of games, like that for NIT and NCAA.&lt;/p&gt;
&lt;table class=&#34;table&#34; style=&#34;margin-left: auto; margin-right: auto;&#34;&gt;
&lt;caption&gt;
&lt;span id=&#34;tab:unnamed-chunk-4&#34;&gt;Table 1: &lt;/span&gt;One extra regular game for UNC
&lt;/caption&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Season
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Game_Date
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Game_Day
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Type
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Where
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Opponent_School
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
Result
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Tm
&lt;/th&gt;
&lt;th style=&#34;text-align:right;&#34;&gt;
Opp
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
OT
&lt;/th&gt;
&lt;th style=&#34;text-align:left;&#34;&gt;
team
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1955
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1955-03-03
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Thu
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
REG
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
H
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Wake Forest
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
L
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
82
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
95
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
UNC’s Record
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1955
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
1955-03-03
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Thu
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
CTOURN
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
H
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
South Carolina
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
W
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
83
&lt;/td&gt;
&lt;td style=&#34;text-align:right;&#34;&gt;
67
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
NA
&lt;/td&gt;
&lt;td style=&#34;text-align:left;&#34;&gt;
Duke’s Record
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;A quick investigation and &lt;a href=&#34;https://en.wikipedia.org/wiki/1955_ACC_Men%27s_Basketball_Tournament&#34;&gt;search&lt;/a&gt; reveals that the UNC vs. Wake Forest game on 1955-03-03 was an ACC conference tournament game (CTOURN), not a regular season game. So it looks like the data source I’m using seems to have an incorrect record there. Although nothing big, another good gotcha while exploring the match data :)&lt;/p&gt;

        
      </description>
    </item>
    
  </channel>
</rss>
